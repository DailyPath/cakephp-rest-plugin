<?php
/**
 * Rest Component Test
 *
 * Copyright 2009, Kevin van Zonneveld.
 *
 * Licensed under BSD style License
 * Redistributions of files must retain the above copyright notice.
 *
 * @copyright Copyright 2009, Kevin van Zonneveld.
 * @link http://github.com/kvz/cakephp-rest-plugin
 * @version 0.1
 * @author Kevin van Zonneveld <kvz@php.net>
 * @license http://www.opensource.org/licenses/mit-license.php The MIT License
 */
App::import('Component', array('Rest.Rest', 'Auth'));
App::import('Controller', 'AppController');

/**
 * Fake methods to reflecit things in testcase
 * and/org access to protected methods (better not)
 *
 */
class MockRestComponent extends RestComponent {
    
}

class TestRestController extends AppController {
	public $components = array('Rest');
}

/**
 * Menu Component Test Case
 *
 * @author Kevin van Zonneveld
 **/
class MenuComponentTestCase extends CakeTestCase {
	public function startTest() {
		$this->Rest = new MockRestComponent();
		$this->Controller = new TestRestController();
	}

	public function testInitialize() {
		$settings = array(
			'cacheKey' => 'my_test_key',
			'aclPath' => 'myAclPath/',
			'defaultMenuParent' => '__root__'
		);
		$this->Rest->initialize($this->Controller, $settings);
		$this->assertEqual($this->Rest->cacheKey, $settings['cacheKey']);
		$this->assertEqual($this->Rest->aclPath, $settings['aclPath']);
	}

	public function endTest() {
		#$this->Rest->clearCache();
		unset($this->Rest, $this->Controller);
	}
}
?>